Index: app/src/main/java/com/example/flashnew/LoginActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.flashnew;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.cardview.widget.CardView;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Base64;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.inputmethod.InputMethodManager;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.AuthFailureError;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.example.flashnew.Activities.Landing_Screen;\r\nimport com.example.flashnew.HelperClasses.AppPrefernces;\r\nimport com.example.flashnew.Server.ApiUtils;\r\nimport com.example.flashnew.Server.retrofitRelated.APIservice;\r\nimport com.google.gson.JsonElement;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n    private CardView masterPasswordDialog1, masterPasswordDialog2;\r\n    private TextView masterPasswordOK, hostserverUrl, identification, userName, password;\r\n    private EditText masterPasswordEditText;\r\n    private Button confirm_login, cancel_login;\r\n    private RequestQueue queue;\r\n    private ProgressBar loginProgressBar;\r\n    private ProgressDialog dialog;\r\n    private androidx.appcompat.app.AlertDialog.Builder dialog1;\r\n    private AppPrefernces preferences;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        masterPasswordOK = findViewById(R.id.masterPasswordOK);\r\n        masterPasswordDialog1 = findViewById(R.id.masterPasswordDialog);\r\n        masterPasswordDialog2 = findViewById(R.id.masterPasswordDialog2);\r\n        masterPasswordEditText = findViewById(R.id.masterPasswordEditText);\r\n        hostserverUrl = findViewById(R.id.hostserverUrl);\r\n        identification = findViewById(R.id.identification);\r\n        userName = findViewById(R.id.userName);\r\n        password = findViewById(R.id.password);\r\n        confirm_login = findViewById(R.id.confirm_login);\r\n        cancel_login = findViewById(R.id.cancel_login);\r\n        queue = Volley.newRequestQueue(this);\r\n        loginProgressBar = findViewById(R.id.loginProgressBar);\r\n        dialog = new ProgressDialog(this);\r\n        dialog1 = new androidx.appcompat.app.AlertDialog.Builder(this);\r\n        preferences = new AppPrefernces(this);\r\n\r\n        if (preferences.isLoggedIn()) {\r\n            Intent i = new Intent(LoginActivity.this, Landing_Screen.class);\r\n            startActivity(i);\r\n            finish();\r\n        }\r\n\r\n        masterPasswordOK.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (masterPasswordEditText.getText().toString().length() <= 0) {\r\n                    masterPasswordEditText.setError(getResources().getString(R.string.Login_screen9));\r\n                } else if (masterPasswordEditText.getText().toString().equals(getResources().getString(R.string.lista_coletas_feitass))) {\r\n                    masterPasswordDialog1.setVisibility(View.GONE);\r\n                    masterPasswordDialog2.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    masterPasswordEditText.setError(getResources().getString(R.string.Login_screen10));\r\n                }\r\n            }\r\n        });\r\n\r\n        userName.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n            @Override\r\n            public void onFocusChange(View v, boolean hasFocus) {\r\n                if (hasFocus) {\r\n                    userName.setBackgroundResource(R.drawable.edit_text_border);\r\n                } else {\r\n                    userName.setBackgroundResource(R.drawable.edit_text_grey_border);\r\n                }\r\n            }\r\n        });\r\n\r\n        identification.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n            @Override\r\n            public void onFocusChange(View v, boolean hasFocus) {\r\n                if (hasFocus) {\r\n                    identification.setBackgroundResource(R.drawable.edit_text_border);\r\n                } else {\r\n                    identification.setBackgroundResource(R.drawable.edit_text_grey_border);\r\n                }\r\n            }\r\n        });\r\n\r\n        password.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n            @Override\r\n            public void onFocusChange(View v, boolean hasFocus) {\r\n                if (hasFocus) {\r\n                    password.setBackgroundResource(R.drawable.edit_text_border);\r\n                } else {\r\n                    password.setBackgroundResource(R.drawable.edit_text_grey_border);\r\n                }\r\n            }\r\n        });\r\n\r\n        confirm_login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                try {\r\n                    if (identification.getText().toString().length() <= 0) {\r\n                        identification.setError(getResources().getString(R.string.Login_screen5));\r\n                    } else if (userName.getText().toString().length() <= 0) {\r\n                        userName.setError(getResources().getString(R.string.Login_screen6));\r\n                    } else if (password.getText().toString().length() <= 0) {\r\n                        password.setError(getResources().getString(R.string.Login_screen7));\r\n                    } else {\r\n                        jsonParse();\r\n                    }\r\n                } catch (Exception e) {\r\n                    Toast.makeText(LoginActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    Log.d(\"TAG\", \"LoginActivityJson2: \" + e.getMessage());\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        cancel_login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void jsonParse() {\r\n        try {\r\n            loginProgressBar.setVisibility(View.VISIBLE);\r\n            StringRequest request = new StringRequest(Request.Method.GET, ApiUtils.LOGIN, new Response.Listener<String>() {\r\n                @Override\r\n                public void onResponse(String response) {\r\n                    Log.d(\"TAG\", \"LoginActivityJson: \" + response);\r\n                    try {\r\n                        JSONObject object = new JSONObject(response);\r\n                        String id = object.getString(\"id\");\r\n                        String login = object.getString(\"login\");\r\n                        String name = object.getString(\"nome\");\r\n\r\n                        Log.d(\"TAG\", \"LoginResponse: \" + login);\r\n                        preferences.setID(id);\r\n                        preferences.setUserName(login);\r\n                        preferences.setName(name);\r\n                        preferences.setPaso(password.getText().toString());\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    Intent i = new Intent(LoginActivity.this, Landing_Screen.class);\r\n                    startActivity(i);\r\n                    loginProgressBar.setVisibility(View.GONE);\r\n                    finish();\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    loginProgressBar.setVisibility(View.GONE);\r\n                    try {\r\n                        Toast.makeText(LoginActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        Log.d(\"TAG\", \"LoginActivityJson3: \" + error.getMessage());\r\n\r\n                    } catch (Exception e) {\r\n                        Log.d(\"TAG\", \"LoginActivityJson4: \" + e.getMessage());\r\n                        dialog1.setTitle(\"Erro\");\r\n                        dialog1.setMessage(getResources().getString(R.string.Login_screen8));\r\n                        dialog1.setCancelable(true);\r\n                        dialog1.setPositiveButton(\r\n                                \"Ok\",\r\n                                new DialogInterface.OnClickListener() {\r\n                                    public void onClick(DialogInterface dialog, int id) {\r\n                                        userName.setText(\"\");\r\n                                        identification.setText(\"\");\r\n                                        password.setText(\"\");\r\n                                        dialog.cancel();\r\n                                    }\r\n                                });\r\n                        dialog1.show();\r\n                    }\r\n                }\r\n            }) {\r\n                @Override\r\n                public Map<String, String> getHeaders() throws AuthFailureError {\r\n                    HashMap<String, String> params = new HashMap<String, String>();\r\n                    String auth1 = \"Basic \"\r\n                            + Base64.encodeToString((userName.getText().toString() + \":\" + password.getText().toString()).getBytes(),\r\n                            Base64.NO_WRAP);\r\n                    params.put(\"Authorization\", auth1);\r\n                    return params;\r\n                }\r\n            };\r\n            queue.add(request);\r\n\r\n        } catch (Exception e) {\r\n            Toast.makeText(LoginActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            Log.d(\"TAG\", \"LoginActivityJson1: \" + e.getMessage());\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private void retroParse() {\r\n\r\n        preferences.setUserName(userName.getText().toString());\r\n        preferences.setPaso(password.getText().toString());\r\n\r\n\r\n        APIservice mAPIService = ApiUtils.getAPIService();\r\n        JSONObject sendingObj = new JSONObject();\r\n\r\n        Call<JsonElement> call = mAPIService.login();\r\n        call.enqueue(new Callback<JsonElement>() {\r\n\r\n            @Override\r\n            public void onResponse(Call<JsonElement> call, retrofit2.Response<JsonElement> response) {\r\n                Log.e(\"TAG\", \"retrofitResponse: \" + response);\r\n                Intent i = new Intent(LoginActivity.this, Landing_Screen.class);\r\n                startActivity(i);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<JsonElement> call, Throwable t) {\r\n                Log.e(\"TAG\", \"retrofitResponse: \" + t);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean dispatchTouchEvent(MotionEvent ev) {\r\n        if (getCurrentFocus() != null) {\r\n            InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);\r\n        }\r\n        return super.dispatchTouchEvent(ev);\r\n    }\r\n}\r\n\r\n//ghgjhgjkhkhjkjkjhkhjk
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/flashnew/LoginActivity.java	(revision 08e871fc18d69fe8804a6b246236230dd3214805)
+++ app/src/main/java/com/example/flashnew/LoginActivity.java	(date 1607672934521)
@@ -266,6 +266,4 @@
         }
         return super.dispatchTouchEvent(ev);
     }
-}
-
-//ghgjhgjkhkhjkjkjhkhjk
\ No newline at end of file
+}
\ No newline at end of file
